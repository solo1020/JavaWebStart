<?xml version="1.0" encoding="UTF-8" ?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:context="http://www.springframework.org/schema/context"
       xmlns:mvc="http://www.springframework.org/schema/mvc"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:mc="http://www.alibaba.com/schema/stat"
       xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd
       http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc.xsd
       http://www.springframework.org/schema/context  http://www.springframework.org/schema/context/spring-context.xsd http://www.alibaba.com/schema/stat http://www.alibaba.com/schema/stat.xsd">

    <!--mvc注解驱动-->
    <mvc:annotation-driven/>
    
    <!--配置内部视图解析器-->
    <bean class="org.springframework.web.servlet.view.InternalResourceViewResolver" >
        <property name="prefix" value="/pages/" />
        <property name="suffix" value=".jsp" />
    </bean>

    <!--静态资源访问权限-->
    <mvc:default-servlet-handler />
    <mvc:resources mapping="/plugins/**" location="/plugins/" />

    <!--组件扫描 controller-->
    <context:component-scan base-package="com.itcast.controller" />

    <!--配置拦截器-->
    <!--<mvc:interceptors>-->
        <!--多个拦截器按照此处的配置顺序 以先进后出的方式执行-->
        <!--<mvc:interceptor>-->
            <!--&lt;!&ndash;对哪些资源进行拦截操作&ndash;&gt;-->
            <!--<mvc:mapping path="/**"/>-->
            <!--<bean id="MyInterceptor" class="com.itcast.interceptor.MyInterceptor" ></bean>-->
        <!--</mvc:interceptor>-->

        <!--<mvc:interceptor>-->
            <!--<mvc:mapping path="/**"/>-->
            <!--<bean id="MyInterceptor2" class="com.itcast.interceptor.MyInterceptor2"></bean>-->
        <!--</mvc:interceptor>-->

        <!--<mvc:interceptor>-->
            <!--<mvc:mapping path="/**"/>-->
            <!--&lt;!&ndash;排除login本身这个请求 防止死循环&ndash;&gt;-->
            <!--<mvc:exclude-mapping path="/user/login" />-->
            <!--&lt;!&ndash;<mvc:exclude-mapping path="/pages/*" />&ndash;&gt;-->

            <!--<bean class="com.itcast.interceptor.PrivilegeInterceptor" id="PrivilegeInterceptor" />-->
        <!--</mvc:interceptor>-->
    <!--</mvc:interceptors>-->

    <!--配置简单异常映射处理器-->
    <bean class="org.springframework.web.servlet.handler.SimpleMappingExceptionResolver">
        <!--<property name="defaultErrorView" value="errorview" />-->
        <property name="exceptionMappings">
            <map>
                <entry key="java.lang.ClassCastException" value="errorClassCastException" />
                <entry key="com.itcast.exception.MyException" value="myException" />
            </map>
        </property>
    </bean>

    <!--配置自定义 异常处理器-->
    <bean class="com.itcast.resolver.MyExceptionResolver" />


</beans>